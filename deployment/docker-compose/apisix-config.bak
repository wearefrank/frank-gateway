{"Consumers":[],"Routes":[{"id":"475210670606910150","create_time":1696488577,"update_time":1696490848,"uri":"/csp/samples/SOAP.Demo.cls","name":"devide-integer","methods":["POST"],"vars":[["http_SOAPAction","==","http://tempuri.org/SOAP.Demo.DivideInteger"]],"plugins":{"limit-count":{"_meta":{"disable":false},"allow_degradation":false,"count":2,"key":"http_soapaction","key_type":"var","policy":"local","rejected_code":429,"rejected_msg":"too many requests","show_limit_quota_header":true,"time_window":10},"serverless-pre-function":{"_meta":{"disable":false},"functions":["return function(a,b)local c=ngx.req.get_headers()['SOAPAction']local d=require('apisix.core')if c~=nil then ngx.log(ngx.ERR,'SOAPAction ',c)d.ctx.register_var('soap_action',function(b)return c end)else local e=require('xml2lua')local f=require('xmlhandler.tree')local g=d.request.get_body()if g~=nil then local h=f:new()local i=e.parser(h)i:parse(g)local j=h.root['soap:Envelope']['soap:Body']for k,l in pairs(j)do ngx.log(ngx.ERR,'soap_body ',k,vaSlue)end end end;ngx.log(ngx.ERR,'match uri ',b.curr_req_matched and b.curr_req_matched._path)end"],"phase":"rewrite"}},"service_id":"475210317849166534","status":1},{"id":"481440061544465352","create_time":1696490238,"update_time":1696490238,"uri":"/csp/samples/SOAP.Demo.cls","name":"mission","methods":["POST"],"vars":[["http_SOAPAction","==","http://tempuri.org/SOAP.Demo.Mission"]],"plugins":{"serverless-pre-function":{"_meta":{"disable":false},"functions":["return function(a,b)local c=ngx.req.get_headers()['SOAPAction']local d=require('apisix.core')if c~=nil then ngx.log(ngx.ERR,'SOAPAction ',c)d.ctx.register_var('soap_action',function(b)return c end)else local e=require('xml2lua')local f=require('xmlhandler.tree')local g=d.request.get_body()if g~=nil then local h=f:new()local i=e.parser(h)i:parse(g)local j=h.root['soap:Envelope']['soap:Body']for k,l in pairs(j)do ngx.log(ngx.ERR,'soap_body ',k,vaSlue)end end end;ngx.log(ngx.ERR,'match uri ',b.curr_req_matched and b.curr_req_matched._path)end"],"phase":"rewrite"}},"service_id":"475210317849166534","status":1}],"Services":[{"id":"475210317849166534","create_time":1696488577,"update_time":1696488577,"name":"soap-demo","desc":"a service for a demo soap service with multiple operations","upstream_id":"475214732454789830"}],"SSLs":[],"Upstreams":[{"id":"475214732454789830","create_time":1696488577,"update_time":1696488577,"nodes":[{"host":"crcind.com","port":443,"weight":1}],"timeout":{"connect":6,"send":6,"read":6},"type":"roundrobin","scheme":"https","pass_host":"node","name":"soap-demo-upstream","desc":"soap-demo","keepalive_pool":{"idle_timeout":60,"requests":1000,"size":320}}],"Scripts":[],"GlobalPlugins":[{"id":"1","create_time":1696488577,"update_time":1696488577,"plugins":{"prometheus":{"_meta":{"disable":false},"prefer_name":true}}}],"PluginConfigs":[]}™©G